# 前端登录与动态菜单 - 本地回归检查步骤

## 1. 清空本地状态
- 打开应用，F12 → Application → Local Storage，删除与 token / 用户相关的 key（或清除全部）
- 或使用无痕窗口

## 2. 登录后 Network 校验
- 打开 DevTools → Network，勾选 Preserve log
- 输入账号密码点击登录
- **必须**依次出现：
  - `POST .../api/iam/auth/login`（或项目实际登录前缀）
  - `GET .../api/iam/me`
  - `GET .../api/iam/me/perms`
  - `GET .../api/iam/me/menus`

## 3. 登录后必须离开登录页
- 点击登录后，页面**必须**从 `/auth/login` 自动跳转
- 预期：跳转到**首菜单**（如 `/system/user`），或无菜单时跳转到 `/empty-menus`
- 若仍停留在 `/auth/login`，检查 Console 是否有 `[Auth]`、`[Guard]`、`[Access]` 报错

## 4. 左侧菜单与空态
- **有菜单时**：左侧应显示后端下发的菜单树（如 System → User Manage / Role Manage / Permission Manage）
- **后端 menus 返回空**：必须跳转到 `/empty-menus`，页面提示「权限未配置」等空态文案
- **某个菜单 component 在前端 views 中不存在**：应出现明确报错（如 "View component not found: xxx"），并跳转 `/empty-menus` 或登录页，且 message/notification 提示「菜单配置与前端 views 不匹配」

## 5. 无静态兜底
- 确认未出现 Workbench、dashboard 等静态菜单作为兜底
- 默认首页为 `/empty-menus`（无菜单时）；有菜单时为第一个可访问叶子菜单
